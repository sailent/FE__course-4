{"version":3,"file":"game.js","mappings":"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","sources":["webpack://course4/./src/game.ts"],"sourcesContent":["const menuRestart = document.querySelector('.interface-restart__button');\r\nconst gameField = document.querySelector('.gameField');\r\nconst popupBlock = document.querySelector('.popup');\r\nconst popupRestart = document.querySelector('.popup-content__button');\r\nconst time = document.getElementsByTagName('time')[0];\r\nconst ArrCardIndex = [\r\n    '6',\r\n    '7',\r\n    '8',\r\n    '9',\r\n    '10',\r\n    'валет',\r\n    'дама',\r\n    'король',\r\n    'туз',\r\n] as const;\r\nconst ArrCardSuits = ['бубны', 'крести', 'пики', 'черви'] as const;\r\nvar sec: number = 0;\r\nvar min: number = 0;\r\n// eslint-disable-next-line no-unused-vars\r\nvar t: any;\r\nfunction getRandomInt(max: number) {\r\n    return Math.floor(Math.random() * max);\r\n}\r\nfunction tick() {\r\n    sec++;\r\n    if (sec >= 60) {\r\n        sec = 0;\r\n        min++;\r\n        if (min >= 60) {\r\n            min = 0;\r\n        }\r\n    }\r\n}\r\nfunction add() {\r\n    tick();\r\n    time.textContent =\r\n        (min > 9 ? min : '0' + min) + '.' + (sec > 9 ? sec : '0' + sec);\r\n    timer();\r\n}\r\nfunction timer() {\r\n    t = setTimeout(add, 1000);\r\n}\r\nfunction timerCicle() {\r\n    time.textContent = '00.00';\r\n    sec = 0;\r\n    min = 0;\r\n}\r\nfunction generateCards() {\r\n    gameField.innerHTML = '';\r\n    const diffLevel = localStorage.getItem('diffLevel') as string;\r\n    var cardCount: number = 0;\r\n    if (!localStorage.getItem('diffLevel')) window.location.href = 'index.html';\r\n    if (diffLevel === 'hard') cardCount = 36;\r\n    else diffLevel === 'normal' ? (cardCount = 18) : (cardCount = 10);\r\n    for (var i: number = 0; i < cardCount; i++) {\r\n        gameField.innerHTML += `<img src=\"pics/cards/shirt.png\" id='${i}' class=\"card\" alt=\"shirt\" /></img>`;\r\n    }\r\n}\r\nfunction hideCards() {\r\n    for (var i: number = 0; i < cards.length; i++) {\r\n        document\r\n            .getElementById(`${i}`)\r\n            .setAttribute('src', `pics/cards/shirt.png`);\r\n    }\r\n}\r\nfunction setCopyOfCard(el: Element, idCard: number, idSuit: number): void {\r\n    el = document.getElementById(`${getRandomInt(cards.length)}`);\r\n    if (el.getAttribute('alt') !== 'shirt')\r\n        return setCopyOfCard(el, idCard, idSuit);\r\n    else {\r\n        el.setAttribute(\r\n            'src',\r\n            `/pics/cards/${ArrCardIndex[idCard]} ${ArrCardSuits[idSuit]}.png`\r\n        );\r\n        el.setAttribute(\r\n            'alt',\r\n            `${ArrCardIndex[idCard]} ${ArrCardSuits[idSuit]}`\r\n        );\r\n    }\r\n}\r\nfunction shuffleCards() {\r\n    for (var i: number = 0; i < cards.length; i++) {\r\n        var temp = document.getElementById(`${i}`) as HTMLElement;\r\n        if (temp.getAttribute('alt') === 'shirt') {\r\n            var cardIndex: number = getRandomInt(9);\r\n            var cardSuit: number = getRandomInt(4);\r\n            temp.setAttribute(\r\n                'src',\r\n                `/pics/cards/${ArrCardIndex[cardIndex]} ${ArrCardSuits[cardSuit]}.png`\r\n            );\r\n            temp.setAttribute(\r\n                'alt',\r\n                `${ArrCardIndex[cardIndex]} ${ArrCardSuits[cardSuit]}`\r\n            );\r\n            setCopyOfCard(temp, cardIndex, cardSuit);\r\n        }\r\n    }\r\n}\r\ngenerateCards(),\r\n    sessionStorage.removeItem('buffer1'),\r\n    sessionStorage.removeItem('buffer2');\r\nvar cards = document.querySelectorAll('.card') as NodeListOf<Element>;\r\nshuffleCards(),\r\n    setTimeout(timer, 5000),\r\n    setTimeout(hideCards, 5000),\r\n    setTimeout(gameplayLogic, 5000);\r\nmenuRestart.addEventListener('click', () => {\r\n    timerCicle();\r\n    window.location.href = 'index.html';\r\n});\r\npopupRestart.addEventListener('click', () => {\r\n    popupBlock.setAttribute('style', 'display=none');\r\n    sessionStorage.removeItem('buffer1');\r\n    sessionStorage.removeItem('buffer2');\r\n    timerCicle();\r\n    clearTimeout(t);\r\n    generateCards(),\r\n        shuffleCards(),\r\n        setTimeout(timer, 5000),\r\n        setTimeout(hideCards, 5000),\r\n        setTimeout(gameplayLogic, 5000);\r\n});\r\nfunction gameplayLogic() {\r\n    var ArrDisabledCards: string[] = [];\r\n    cards = document.querySelectorAll('.card');\r\n    cards.forEach((element) => {\r\n        element.addEventListener('click', () => {\r\n            if (!ArrDisabledCards.includes(element.getAttribute('id'))) {\r\n                if (\r\n                    !sessionStorage.getItem('buffer1') &&\r\n                    sessionStorage.getItem('buffer2') !==\r\n                        element.getAttribute('id')\r\n                ) {\r\n                    sessionStorage.setItem(\r\n                        'buffer1',\r\n                        element.getAttribute('alt')\r\n                    );\r\n                    sessionStorage.setItem(\r\n                        'buffer2',\r\n                        element.getAttribute('id')\r\n                    );\r\n                    ArrDisabledCards.push(element.getAttribute('id'));\r\n                    element.setAttribute(\r\n                        'src',\r\n                        `pics/cards/${element.getAttribute('alt')}.png`\r\n                    );\r\n                } else if (\r\n                    sessionStorage.getItem('buffer1') ===\r\n                        element.getAttribute('alt') &&\r\n                    sessionStorage.getItem('buffer2') !==\r\n                        element.getAttribute('id')\r\n                ) {\r\n                    sessionStorage.removeItem('buffer1');\r\n                    ArrDisabledCards.push(element.getAttribute('id'));\r\n                    element.setAttribute(\r\n                        'src',\r\n                        `pics/cards/${element.getAttribute('alt')}.png`\r\n                    );\r\n                    if (ArrDisabledCards.length === cards.length) {\r\n                        clearTimeout(t);\r\n                        document\r\n                            .querySelector('.popup')\r\n                            .setAttribute('style', 'display=flex');\r\n                        document.querySelector('.spentTime').textContent =\r\n                            document.querySelector('.timerValue').textContent;\r\n                    }\r\n                } else if (\r\n                    sessionStorage.getItem('buffer1') !==\r\n                    element.getAttribute('alt')\r\n                ) {\r\n                    clearTimeout(t);\r\n                    document\r\n                        .querySelector('.popup')\r\n                        .setAttribute('style', 'display=flex');\r\n                    document.querySelector('.result__title').textContent =\r\n                        'Вы проиграли';\r\n                    document\r\n                        .querySelector('.result__img')\r\n                        .setAttribute('src', 'pics/lost.svg');\r\n                }\r\n                document.querySelector('.spentTime').textContent =\r\n                    document.querySelector('.timerValue').textContent;\r\n            }\r\n        });\r\n    });\r\n}\r\n"],"names":[],"sourceRoot":""}